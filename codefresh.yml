version: '1.0'

steps:
#  clone_repo:
#    type: git-clone
#    description: Clone another repository
#    repo: https://github.com/codefresh-io/cf-special-yml-example.git
#    revision: master

  git_clone:
    image: codefreshio/git-image:latest
    commands:
      - git clone https://github.com/codefresh-io/cf-special-yml-example.git
      - echo folders
      - ls -l
      - echo go to folder
      - bash -c "cd ./cf-special-yml-example/"
      - ls -l
      - echo checkout to branch
      - git checkout test
      - git branch
      - ls -l

  build_another_prj:
    type: build
    description: Build an Image from a Different Git Repository
    working_directory: ${{clone_repo}}
    image_name: codefreshio/yaml-example-dif-git-repo
    dockerfile: Dockerfile
    tag: ${{CF_BRANCH}}